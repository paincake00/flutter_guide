
https://github.com/golang-standards/project-layout?tab=readme-ov-file

### Структура feature-first для больших проектов

```
/cmd                # Точки входа (main-файлы для сервисов)
  /api-server        # HTTP API сервер
    main.go
  /worker            # Фоновый воркер
    main.go

/internal            # Основной код приложения (закрыт для внешних зависимостей)
  /application         # Домен "Приложение"
    /di                # DI контейнер, сборка зависимостей
      container.go     # wire или fx для связки всех доменов
    /service           # Сервисы на уровне приложения
      billing_service.go # orchestration user+order+payment
    /middleware        # Общие middleware (логгер, трейсинг и др.)
    /config            # Глобальные конфиги всего приложения
      app.yaml
    /utils           # Общие утилиты для приложения
  /user              # Домен "Пользователи"
    /delivery        # Входящие интерфейсы (HTTP/GRPC и др.)
      /http          # HTTP-хендлеры
      /grpc          # gRPC-хендлеры
    /application     # Application слой (use-cases, orchestration)
      user_service.go
    /domain          # Бизнес-логика (entity, интерфейсы реп)
      /user          # Entity + методы
      /repository    # Интерфейсы репозиториев
    /repository      # Реализация репозиториев (Postgres, Redis и др.)
      /postgres
      /redis
  /order             # Домен "Заказы"
    /delivery
    /application
    /domain
    /repository
  /payment           # Домен "Платежи"
    /delivery
    /application
    /domain
    /repository

/pkg                 # Публичные библиотеки (переиспользование в других проектах)
  /logger            # Обёртка для логирования
  /config            # Загрузка конфигов (viper, env)
  /middleware        # HTTP middleware
  /errors            # Общие ошибки приложения

/api                 # OpenAPI спецификации, gRPC proto файлы
  user.proto
  order.proto

/configs             # YAML/JSON шаблоны конфигов
  app.yaml
  db.yaml

/scripts             # Bash/Make утилиты (сборка, миграции и т.п.)
  build.sh
  migrate.sh

/build               # Docker, CI/CD, пакеты
  /docker
    Dockerfile
  /ci
    github-actions.yml

/deployments         # Kubernetes/Helm/terraform манифесты
  /k8s
    deployment.yaml
    service.yaml

/docs                # Документация проекта
  architecture.md
  api.md

/test                # Интеграционные и e2e тесты
  /user
    user_test.go
  /order
    order_test.go

/assets              # Логотипы, изображения и т.п.

/githooks            # Git hooks (pre-commit, pre-push)
/website             # Исходники для сайта проекта

```


### Microservices Project

https://github.com/meysamhadeli/shop-golang-microservices

### Go Directories

| **`/cmd`**      | **Содержит основные приложения проекта. Название подпапки приложения совпадает с названием исходника (`/cmd/myapp` будет содержать `myapp.go`).**<br>**Весь код обычно выносится в `/internal` и `/pkg`.**                                                                                                                                                                                                               |
| :-------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`/internal`** | **Приватный код, который нельзя импортировать извне. Этот шаблон макета применяется самим компилятором Go и он не позволит импортировать код. <br>`/internal` может располагаться не только на верхнем уровне дерева проекта.<br>Есть доп. разделение:<br>`/internal/app` - содержит фактический код приложения.<br>`/internal/pkg` - код, который может быть использован приложениями, хранящимися в `/internal/app`.** |
| **`/pkg`**      | **Библиотечный код, который можно использовать внешними приложениями (например, `/pkg/mypubliclib`).<br>Например код можно будет использовать в других проектах, просто используя `import "github.com/username/project/pkg/mylib"`**                                                                                                                                                                                     |
| **`/vendor`**   | **Папка `vendor` представляет каталог в корневой папке проекта, в котором хранятся точные копии исходного кода всех зависимостей. <br>Чтобы "завендорить" (скопировать) все зависимости из глобального кеша в локальную папку `vendor`, выполним команду: `go mod vendor`**                                                                                                                                              |

### Feature Structure Directories

```
/feature
  /app                <-- Бизнес-логика (use-cases)
    /service
    /model
    /repository
  /delivery           <-- Транспортный слой (handlers/controllers)
    /http
    /grpc
  /repository         <-- Реализации хранилищ (DB, API)
    /postgres
    /redis
  /domain             <-- Доменные сущности и интерфейсы (порт/интерфейсы)
  /config             <-- Конфиги приложения
  /utils              <-- Вспомогательные утилиты
``` 


### Service Application Directories

| `/api` | Содержит OpenAPI/Swagger спецификации (`.yaml`, `.json`), JSON схемы, protocol definition files.<br><br>Генерация Go кода:<br>- gRPC: <br>`protoc --go_out=../pkg/api --go-grpc_out=../pkg/api user.proto`<br>- OpenAPI:<br>`swagger generate server -f openapi.yaml -t ../pkg/api` |
| ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### Web Application Directories

| `/web` | Конкретные компоненты веб-приложений: статические веб-ресурсы, шаблоны на стороне сервера и SPAs (одностраничные приложения).<br>Обычно это папки: `app`, `static`, `template`. |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

### Common Application Directories

| **`/configs`**     | **Шаблонные файлы конфигурации для разных инструментов и сервисов.<br><br>`app.yaml`: основной конфиг приложения (Go считывает при старте)<br>`confd.toml`: шаблон для генерации конфига<br>`consul.hcl`: конфиг Consul для сервис-дискавери<br>`nginx.conf`: конфиг для проксирования трафика**                                                |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`/init`**        | **Скрипты и конфиги для запуска через systemd, upstart, supervisord.<br>Файлы помогают интегрировать приложение с системой и запустить его как сервис.<br><br>`myapp.service`: systemd unit-файл<br>`myapp.conf`: upstart конфиг<br>`supervisord.conf`: конфиг для supervisord**                                                                |
| **`/scripts`**     | **Утилиты для сборки, установки и анализа. Сюда кладут различные утилиты и вспомогательные скрипты для автоматизации задач.<br><br>`build.sh`: Скрипт сборки бинарника<br>`install.sh`: Установка приложения на сервер<br>`lint.sh`: Запуск линтеров (gofmt, staticcheck и т.п.)<br>`generate_proto.sh`: Генерация Go-кода из `.proto` файлов** |
| **`/build`**       | **Всё для сборки пакетов (Docker, DEB/RPM, CI/CD конфиги).<br><br>Поместите облако (AMI), контейнер (Docker), конфигурации пакета OS (deb, rpm, pkg) и скрипты в каталог `/build/package`.<br>Поместите CI в `/build/ci`.**                                                                                                                     |
| **`/deployments`** | **Конфиги и шаблоны для деплоя (Docker Compose, Kubernetes, Terraform).**                                                                                                                                                                                                                                                                       |
| **`/test`**        | **Дополнительные тестовые приложения и данные для тестов.**                                                                                                                                                                                                                                                                                     |

### Other Directories

| **`/docs`**        | **Документация для пользователей и разработчиков**                                                                         |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| **`/tools`**       | **Вспомогательные утилиты для проекта**                                                                                    |
| **`/examples`**    | **Примеры использования приложений или библиотек**                                                                         |
| **`/third_party`** | **Внешние утилиты, форки, Swagger UI**                                                                                     |
| **`/githooks`**    | **Скрипты git hooks (выполняются при определённых событиях в Git. Например, перед коммитом, после мержа или перед пушем)** |
| **`/assets`**      | **Логотипы, изображения и прочие медиа**                                                                                   |
| **`/website`**     | **Файлы для сайта проекта**                                                                                                |

Лучше избегать использование папки `/src`: это привычка из Java и старого $GOPATH. В Go с модулями структура `/src` в проекте избыточна. 